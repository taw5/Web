<!DOCTYPE html>
<html>

<head>
    <title>GPA calculator - Tawfik Ali</title>
    <link rel="stylesheet" href="styles.css">
</head>
<div class="navigation">
    <h2>Navigation Menu:</h2>

    <a style="padding:15%" href="projects.html">Go back to projects</a></li>

</div>

<body>

    <body>
        <h1>GPA Project</h1>
        <p id="test" name="test">test</p>
        <div>
            <input type="range" id="course_range" min="0" max="8">
            <label for="range" id="course_label">HEY</label>
        </div>
        <form id="myForm">
            <ol id="gpa-list"></ol>
            <h3 id="result" style="display: none;">Result: 0</h3>
            <input type="submit" id="submitbutton">
        </form>
        <script>
            const GPAInput = {
                create: function () {
                    const li = document.createElement("li");
                    li.classList.add("gpa_input");

                    const gradeInput = document.createElement("input");
                    gradeInput.type = "text";
                    gradeInput.classList.add("val");
                    gradeInput.name = "One";

                    const gradeLabel = document.createElement("label");
                    gradeLabel.textContent = "AP?";

                    const apCheckbox = document.createElement("input");
                    apCheckbox.type = "checkbox";
                    apCheckbox.classList.add("ap");
                    apCheckbox.name = "AP";

                    li.appendChild(gradeInput);
                    li.appendChild(gradeLabel);
                    li.appendChild(apCheckbox);

                    return li;
                }
            };

            // To create a new GPA input element:
            const newGPAInput = GPAInput.create();
            document.addEventListener("DOMContentLoaded", function (event) {
                const list = document.getElementById("gpa-list")
                const range = document.getElementById("course_range")
                range.value = 0
                const label = document.getElementById("course_label")
                courses = range.value
                label.textContent = "Course: " + range.value
                list.innerHTML = ""
                range.addEventListener("input", function (event) {
                    const label = document.getElementById("course_label")
                    label.textContent = "Course: " + range.value
                    courses = range.value
                    list.innerHTML = ""
                    for (index = 0; index < courses; index++) {
                        list.append(GPAInput.create())
                    }
                })



                document.getElementById('myForm').addEventListener("submit", function (event) {
                    event.preventDefault(); // Prevent the default form submission


                    const a1 = 4.3;
                    const a2 = 4.0;
                    const a3 = 3.7;
                    const a4 = 3.3;
                    const a5 = 3.0;
                    const a6 = 2.7;
                    const a7 = 2.4;
                    const BOOSTER = 0.5
                    var gpa = 0;

                    const inputs = document.getElementsByClassName(
                        "gpa_input"
                    )

                    for (index = 0; index < inputs.length; index++) {
                        const grade = inputs[index].getElementsByClassName("val")[0].value
                        const ap = inputs[index].getElementsByClassName("ap")[0].checked
                        if (grade == "A+") {
                            gpa += a1
                        } else if (grade == "A") {
                            gpa += a2
                        } else if (grade == "A-") {
                            gpa += a3
                        } else if (grade.localeCompare("B+") == 0) {
                            gpa += a4
                        } else if (grade.localeCompare("B") == 0) {
                            gpa += a5
                        } else if (grade.localeCompare("B-")) {
                            gpa += a6;
                        }
                        else if (grade.localeCompare("B-")) {
                            gpa += a7;
                        }

                        if (ap)
                            gpa += BOOSTER
                    }
                    const result = document.getElementById("result")
                    if (inputs.length == 0) {
                        result.style = "display:none;"
                        console.log("THERE IS NOTHING HERE TO CALCULATE!")
                    } else {
                        result.style = "display:block;"
                        result.innerText = "Value of Two: " + (gpa / inputs.length)
                    }
                });
            });
        </script>

    </body>




</html>